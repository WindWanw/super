(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["operator"],{"1a96":function(t,e,a){"use strict";var i=a("bed3"),n=a.n(i);n.a},aaa3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"teacher"},[a("div",{staticClass:"table_title"},[a("div",[t.isShow?a("el-button",{staticClass:"el-icon-d-arrow-left",attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.back()}}},[t._v("返回")]):t._e()],1),a("div",{staticClass:"search_wrap"},[a("el-select",{attrs:{placeholder:"请选择所属团队",size:"mini"},model:{value:t.team,callback:function(e){t.team=e},expression:"team"}},t._l(t.options,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}),1)}),1),a("el-date-picker",{staticStyle:{margin:"0 10px"},attrs:{"value-format":"timestamp",size:"small",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.times,callback:function(e){t.times=e},expression:"times"}}),a("el-radio-group",{attrs:{size:"mini"},on:{change:t.getVestJobs},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}},[a("el-radio-button",{attrs:{label:"today"}},[t._v("今天")]),a("el-radio-button",{attrs:{label:"yesterday"}},[t._v("昨天")]),a("el-radio-button",{attrs:{label:"threedays"}},[t._v("近三天")]),a("el-radio-button",{attrs:{label:"week"}},[t._v("近一周")])],1),a("el-button",{staticStyle:{margin:"0 0 0 10px"},attrs:{type:"success",icon:"el-icon-search",size:"mini"},on:{click:t.search}},[t._v("搜索")]),a("el-button",{attrs:{type:"success",size:"mini",icon:"iconfont daochu"},on:{click:t.beforeExport}},[t._v("导出")])],1)]),a("div",{staticClass:"content"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"need-table",staticStyle:{width:"100%"},attrs:{data:t.dataList.list,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"用户id",align:"center"}}),a("el-table-column",{attrs:{prop:"",label:"头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"avatar",attrs:{src:t.row.avatar}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"真实姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名（昵称）",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.username)+t._s(e.row.nickname?"("+e.row.nickname+")":""))]}}])}),a("el-table-column",{attrs:{prop:"need",label:"发布需求数",align:"center"}}),a("el-table-column",{attrs:{prop:"unum",label:"马甲消费者数量",align:"center"}}),a("el-table-column",{attrs:{prop:"reply",label:"回复需求数",align:"center"}}),a("el-table-column",{attrs:{prop:"gnum",label:"马甲专引师数量",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"mini-button",staticStyle:{margin:"10px 0 0 0"},attrs:{title:"删除",type:"danger",size:"mini"},on:{click:function(a){return t.delVest(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.dataList.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},n=[],s=a("21a6"),l=a.n(s),o=a("1146"),r=a.n(o),c={data:function(){return{loading:!1,isShow:!1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},team:"",options:[],dataList:[],page:1,limit:10,times:"",day:"today",shopname:""}},watch:{},components:{},methods:{beforeExport:function(){var t=this;this.$confirm("确定导出当前页数据吗？(选择100条/页试试)").then(function(e){t.exportExcel()}).catch(function(t){})},exportExcel:function(){console.log("下载");var t=r.a.utils.table_to_book(document.querySelector(".need-table"));console.log(t);var e=r.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{l.a.saveAs(new Blob([e],{type:"application/octet-stream"}),"statistics.xlsx")}catch(a){"undefined"!==typeof console&&console.log(a,e)}return e},getDataList:function(){var t=this;this.loading=!0,this.$api.getVestInfo({page:this.page,limit:this.limit,date:this.times,day:this.day,team:this.team}).then(function(e){t.dataList=e.data||[],e.code&&t.$message[e.code?"warning":"success"](e.data),t.loading=!1})},delVest:function(t){var e=this;this.$confirm("确定要删除吗？").then(function(a){e.$api.delVestUser({id:t}).then(function(t){e.$message[t.code?"warning":"success"](t.data.message),e.getDataList()})}).catch(function(t){})},handleSizeChange:function(t){this.limit=t,this.getDataList()},handleCurrentChange:function(t){this.page=t,this.getDataList()},search:function(){this.page=1,this.getDataList(),this.isShow=!0},back:function(){this.page=1,this.limit=10,this.times="",this.day="today",this.team="",this.getDataList(),this.isShow=!1},getVestJobs:function(){this.page=1,this.times="",this.getDataList()},getTeam:function(){var t=this;this.$api.getTeam().then(function(e){t.options=e.data.list})}},created:function(){this.getTeam(),this.getDataList()}},u=c,p=(a("1a96"),a("2877")),d=Object(p["a"])(u,i,n,!1,null,"6de2a9f7",null);e["default"]=d.exports},bed3:function(t,e,a){}}]);
//# sourceMappingURL=operator.c7937f04.js.map