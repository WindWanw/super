{"version":3,"sources":["webpack:///./src/views/needList.vue?5e36","webpack:///src/views/needList.vue","webpack:///./src/views/needList.vue?bfde","webpack:///./src/views/needList.vue","webpack:///./src/views/needList.vue?6bc7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","margin-left","attrs","type","icon","size","on","click","returnHome","_v","align","unlink-panels","value-format","range-separator","start-placeholder","end-placeholder","picker-options","pickerOptions","model","value","callback","$$v","date","expression","search","directives","name","rawName","data","dataList","list","stripe","border","height","prop","label","scopedSlots","_u","key","fn","scope","src","row","avatar","_s","info","_e","color","_f","times","$event","qrcode","background","current-page","page","page-sizes","page-size","limit","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","visible","qrcodeDialog","width","update:visible","qrcodeImg","staticRenderFns","needListvue_type_script_lang_js_","loading","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","methods","val","getDataList","item","_this","$api","transWx","immuuid","then","res","img","_this2","getNeedList","code","$message","created","views_needListvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_needList_vue_vue_type_style_index_0_id_b8e8cb9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_needList_vue_vue_type_style_index_0_id_b8e8cb9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/needList.0c6c11e4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userList\"},[_c('div',{staticClass:\"table_title\"},[_c('div',[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"iconfont refresh\",\"size\":\"mini\"},on:{\"click\":_vm.returnHome}},[_vm._v(\"   刷新\")])],1),_c('div',{staticClass:\"search_wrap\"},[_c('el-date-picker',{attrs:{\"size\":\"mini\",\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"value-format\":\"timestamp\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\",\"size\":\"mini\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])],1)]),_c('div',{staticClass:\"content\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.dataList.list,\"stripe\":\"\",\"border\":\"\",\"height\":_vm.height}},[_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"头像\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"avatar\",attrs:{\"src\":scope.row.avatar}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"info\",\"label\":\"内容\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.info)?_c('span',[_vm._v(_vm._s(scope.row.info))]):_vm._e(),(scope.row.audio)?_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(\"这是一条语音消息\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"times\",\"label\":\"发布时间\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"formatTimeStamp\")(scope.row.times,1)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"mini-button\",attrs:{\"type\":\"primary\",\"icon\":\"iconfont qrcode-1-copy\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.qrcode(scope.row)}}},[_vm._v(\"点击联系\")])]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.page,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.dataList.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.qrcodeDialog,\"width\":\"300px\",\"height\":\"300px\"},on:{\"update:visible\":function($event){_vm.qrcodeDialog=$event}}},[_c('div',{staticClass:\"view-img\"},[_c('img',{attrs:{\"src\":_vm.qrcodeImg}})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"userList\">\r\n    <!-- 头部（搜索条件） -->\r\n    <div class=\"table_title\">\r\n        <div>\r\n        <el-button @click=\"returnHome\" type=\"primary\" icon=\"iconfont refresh\" size=\"mini\" style=\"margin-left:10px\">   刷新</el-button>\r\n      </div>\r\n      <div class=\"search_wrap\">\r\n        <el-date-picker size=\"mini\" v-model=\"date\" type=\"daterange\" align=\"right\" unlink-panels value-format=\"timestamp\" range-separator=\"至\" start-placeholder=\"开始日期\" \r\n           end-placeholder=\"结束日期\"\r\n          :picker-options=\"pickerOptions\"\r\n        ></el-date-picker>\r\n        <el-button @click=\"search\" type=\"primary\" icon=\"el-icon-search\" size=\"mini\" style=\"margin-left:10px\">搜索</el-button>\r\n      </div>\r\n    </div>\r\n    <!-- 内容（表单，分页） -->\r\n    <div class=\"content\">\r\n      <el-table :data=\"dataList.list\" stripe border v-loading=\"loading\" :height=\"height\">\r\n        <el-table-column prop=\"username\" label=\"用户名\" align=\"center\"></el-table-column>\r\n        <el-table-column prop label=\"头像\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <img class=\"avatar\" :src=\"scope.row.avatar\">\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"info\" label=\"内容\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.info\">{{scope.row.info}}</span>\r\n            <span v-if=\"scope.row.audio\" style=\"color:green\">这是一条语音消息</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"times\" label=\"发布时间\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{scope.row.times | formatTimeStamp(1)}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n              <el-button @click=\"qrcode(scope.row)\" type=\"primary\" icon=\"iconfont qrcode-1-copy\" size=\"mini\" class=\"mini-button\">点击联系</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"page\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        :page-size=\"limit\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"dataList.total\"\r\n      ></el-pagination>\r\n    </div>\r\n\r\n    <el-dialog :visible.sync=\"qrcodeDialog\" width=\"300px\" height=\"300px\">\r\n      <div class=\"view-img\">\r\n        <img :src=\"qrcodeImg\" />\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading:false,\r\n      height:false,\r\n      pickerOptions: {\r\n        //快捷键\r\n        shortcuts: [\r\n          {\r\n            text: \"最近一周\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: \"最近一个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          },\r\n          {\r\n            text: \"最近三个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      date: \"\", //日期\r\n      dataList: [], //数据源\r\n      page: 1, //页\r\n      limit: 10 ,//条\r\n      qrcodeImg:'',\r\n      qrcodeDialog:false,\r\n    };\r\n  },\r\n  methods: {\r\n    // 切换limit\r\n    handleSizeChange(val) {\r\n      this.limit = val;\r\n      this.getDataList();\r\n    },\r\n    //  切换page\r\n    handleCurrentChange(val) {\r\n      this.page = val;\r\n      this.getDataList();\r\n    },\r\n\r\n    qrcode(item){\r\n      this.qrcodeDialog=true;\r\n      this.$api.transWx({immuuid:item.immuuid}).then(res=>{\r\n        this.qrcodeImg=res.data.img;\r\n      });\r\n    },\r\n    //获取用户列表\r\n    getDataList() {\r\n      this.loading=true;\r\n      this.$api\r\n        .getNeedList({\r\n          page: this.page,\r\n          limit: this.limit,\r\n          date: this.date,\r\n        })\r\n        .then(res => {\r\n          this.dataList = res.data || [];\r\n          if(res.data.total>=10){\r\n            this.height=750\r\n          }\r\n         if(res.code){\r\n            this.$message[res.code ? \"warning\" : \"success\"](res.data);\r\n         }\r\n          this.loading=false;\r\n        });\r\n    },\r\n    //查询用户\r\n    search() {\r\n      this.page = 1;\r\n      this.getDataList();\r\n    },\r\n    returnHome() {\r\n      this.date=[];\r\n      this.getDataList()\r\n  },\r\n  },\r\n  \r\n  created() {\r\n    this.getDataList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  overflow: auto;\r\n}\r\n.avatar {\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n.view-img{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./needList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./needList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./needList.vue?vue&type=template&id=b8e8cb9a&scoped=true&\"\nimport script from \"./needList.vue?vue&type=script&lang=js&\"\nexport * from \"./needList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./needList.vue?vue&type=style&index=0&id=b8e8cb9a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b8e8cb9a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./needList.vue?vue&type=style&index=0&id=b8e8cb9a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./needList.vue?vue&type=style&index=0&id=b8e8cb9a&scoped=true&lang=css&\""],"sourceRoot":""}